<html>
<head>
	<title>Sean Thompson, Designer, coder, explorer</title>
  <meta name="description" content="A designer at Twitter and instructor at the Academy of Art. Inspired by video games, high color contrasts, and the outdoors.">
  <meta name="viewport" content="width=device-width" />
	<link href="assets/css/style.css" rel="stylesheet">
	<script src="//use.typekit.net/tea2qzw.js"></script>
  <link rel="icon" type="image/ico" href="assets/img/favicon.ico">  
	<script>try{Typekit.load();}catch(e){}</script>
</head>
<body id="gradient">
<section>
	<article>
    <h1>
      <svg width="82px" height="50px" viewBox="0 0 82 50">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
              <g id="Triangle-5-+-Triangle-4" sketch:type="MSLayerGroup" fill="#FFFFFF">
                  <polygon id="Triangle-5" opacity="0.6" sketch:type="MSShapeGroup" points="60 15 82 50 38 50 "></polygon>
                  <polygon id="Triangle-4" sketch:type="MSShapeGroup" points="31.5 0 63 50 0 50 "></polygon>
              </g>
          </g>
      </svg>
    </h1>
    <h2>
      <svg width="60px" height="37px" viewBox="0 0 60 37" version="1.1">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
              <g id="mark" sketch:type="MSLayerGroup" fill="#FFFFFF">
                  <g id="Page-1" sketch:type="MSShapeGroup">
                      <g id="Triangle-5-+-Triangle-4">
                          <path d="M43.8461538,11.1 L60,37 L27.6923077,37 L43.8461538,11.1 Z" id="Triangle-5" fill-opacity="0.6"></path>
                          <path d="M46.1538462,37 L0,37 L23.0769231,0 L46.1538462,37 L46.1538462,37 Z" id="Triangle-4"></path>
                      </g>
                  </g>
              </g>
          </g>
      </svg>      
    </h2>
		<p class="mobile_hide">
			Currently a designer at Twitter and an instructor at the Academy of Art. Making things people use has fascinated and challenged me since I was a kid. I rely on bold, deliberate use of color and typography to tell stories.
		</p>
    <p class="desktop_hide">
      Currently a designer at Twitter and an instructor at the Academy of Art. Making things people use has fascinated and challenged me since I was a kid.
    </p>
		<ul>
			<li><a href="http://twitter.com/cyanhex">Twitter</a></li>
			<li class="mobile_hide"><a href="http://linkedin.com/in/seanthomps">LinkedIn</a></li>
			<li><a href="archive/index.html">Archive</a></li>
			<li><a href="mailto:seanthomps@gmail.com">Contact</a></li>
		</ul>
	</article>
</section>

<!--gradient background-->
<script>
// target to give background to
var $div = document.getElementById("gradient");

// rgb vals of the gradients
var gradients = [
  { start: [20,0,199], stop: [0,255,187] }, //blue green
  { start: [204,0,146], stop: [78,0,204] }, //pink purple
  { start: [199,73,0], stop: [255,0,101] }, //orange red
  { start: [133,0,204], stop: [204,0,56] }, //purple red
  { start: [204,0,146], stop: [0,80,212] } //pink blue
];
// how long for each transition
var transition_time = 1;
// how many frames per second
var fps = 120;

// interal type vars
var timer; // for the setInterval
var interval_time = Math.round(5000/fps); // how often to interval
var currentIndex = 0; // where we are in the gradients array
var nextIndex = 1; // what index of the gradients array is next
var steps_count = 0; // steps counter
var steps_total = Math.round(transition_time*fps); // total amount of steps
var rgb_steps = {
  start: [0,0,0],
  stop: [0,0,0]
}; // how much to alter each rgb value
var rgb_values = {
  start: [0,0,0],
  stop: [0,0,0]
}; // the current rgb values, gets altered by rgb steps on each interval

var prefixes = ["-webkit-","-moz-","-o-","-ms-",""]; // for looping through adding styles
var div_style = $div.style; // short cut to actually adding styles
var gradients_tested = false;
var color1, color2;

// sets next current and next index of gradients array
function set_next(num) {
  return (num + 1 < gradients.length) ? num + 1 : 0;
}

// work out how big each rgb step is
function calc_step_size(a,b) {
  return (a - b) / steps_total;
}

// populate the rgb_values and rgb_steps objects
function calc_steps() {
  for (var key in rgb_values) {
    if (rgb_values.hasOwnProperty(key)) {
      for(var i = 0; i < 3; i++) {
        rgb_values[key][i] = gradients[currentIndex][key][i];
        rgb_steps[key][i] = calc_step_size(gradients[nextIndex][key][i],rgb_values[key][i]);
      }
    }
  }
}

// update current rgb vals, update DOM element with new CSS background
function updateGradient(){
  // update the current rgb vals
  for (var key in rgb_values) {
    if (rgb_values.hasOwnProperty(key)) {
      for(var i = 0; i < 3; i++) {
        rgb_values[key][i] += rgb_steps[key][i];
      }
    }
  }

  // generate CSS rgb values
  var t_color1 = "rgb("+(rgb_values.start[0] | 0)+","+(rgb_values.start[1] | 0)+","+(rgb_values.start[2] | 0)+")";
  var t_color2 = "rgb("+(rgb_values.stop[0] | 0)+","+(rgb_values.stop[1] | 0)+","+(rgb_values.stop[2] | 0)+")";

  // has anything changed on this interation
  if (t_color1 != color1 || t_color2 != color2) {

    // update cols strings
    color1 = t_color1;
    color2 = t_color2;

    // update DOM element style attribute
    div_style.backgroundImage = "-webkit-gradient(linear, left top, right bottom, from("+color1+"), to("+color2+"))";
    for (var i = 0; i < 4; i++) {
      div_style.backgroundImage = prefixes[i]+"linear-gradient(-45deg, "+color1+", "+color2+")";
    }
  }

  // test if the browser can do CSS gradients
  if (div_style.backgroundImage.indexOf("gradient") == -1 && !gradients_tested) {
    // if not, kill the timer
    clearTimeout(timer);
  }
  gradients_tested = true;

  // we did another step
  steps_count++;
  // did we do too many steps?
  if (steps_count > steps_total) {
    // reset steps count
    steps_count = 0;
    // set new indexs
    currentIndex = set_next(currentIndex);
    nextIndex = set_next(nextIndex);
    // calc steps
    calc_steps();
  }
}

// initial step calc
calc_steps();

// go go go!
timer = setInterval(updateGradient,interval_time);
</script>
</body>
</html>
